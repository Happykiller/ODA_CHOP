<div class="container">
    <h2><oda-label oda-label-value="qcm-manage.title"/></h2>

    <div class="row">
        <div class="col-md-12">
            <oda-label oda-label-value="qcm-manage.hello"/>
        </div>
        <div class="col-md-12" style="padding: 10px">
            <oda-btn oda-btn-style="primary" oda-btn-enter="1" oda-btn-icon-before="ok" oda-btn-click="$.Oda.App.Controller.ManageQcm.formQcm();">oda-main.new</oda-btn>
        </div>
        <div class="col-md-12" id="divTabQcm">
            <oda-loading/>
        </div>
    </div>
</div>

<script>
    $.Oda.App.Controller.ManageQcm.start();
</script>

<script id="formQcm" type="text/template">
    <div class="row">
        <div class="col-md-12">
            <oda-input-text
                oda-input-text-name="desc"
                oda-input-text-type="text"
                oda-input-text-label="qcm-manage.desc"
                oda-input-text-tips="qcm-manage.desc-tips"
                oda-input-text-advice="qcm-manage.desc-advice"
                oda-input-text-placeholder="qcm-manage.desc-placeholder"
                oda-input-text-check="Oda.Regexs:noInjection"/>
        </div>
    </div>
    <hr>
    <div class="row">
        <div class="col-md-6">
            <oda-input-text
                oda-input-text-name="titleNewQcm"
                oda-input-text-type="text"
                oda-input-text-label="qcm-manage.titleNewQcm"
                oda-input-text-tips="qcm-manage.titleNewQcm-tips"
                oda-input-text-advice="qcm-manage.titleNewQcm-advice"
                oda-input-text-placeholder="qcm-manage.titleNewQcm-placeholder"
                oda-input-text-check="Oda.Regexs:noInjection"
                required/>
        </div>
        <div class="col-md-6">
            <oda-input-text
                oda-input-text-name="hours"
                oda-input-text-type="text"
                oda-input-text-label="qcm-manage.hours"
                oda-input-text-tips="qcm-manage.hours-tips"
                oda-input-text-advice="qcm-manage.hours-advice"
                oda-input-text-placeholder="qcm-manage.hours-placeholder"
                oda-input-text-check="Oda.Regexs:noInjection"/>
        </div>
    </div>
    <div class="row">
        <div class="col-md-6">
            <oda-input-text
                oda-input-text-name="duration"
                oda-input-text-type="text"
                oda-input-text-label="qcm-manage.duration"
                oda-input-text-tips="qcm-manage.duration-tips"
                oda-input-text-advice="qcm-manage.duration-advice"
                oda-input-text-placeholder="qcm-manage.duration-placeholder"
                oda-input-text-check="Oda.Regexs:noInjection"/>
        </div>
        <div class="col-md-6">
            <oda-input-text
                oda-input-text-name="detailsNewQcm"
                oda-input-text-type="text"
                oda-input-text-label="qcm-manage.detailsNewQcm"
                oda-input-text-tips="qcm-manage.detailsNewQcm-tips"
                oda-input-text-advice="qcm-manage.detailsNewQcm-advice"
                oda-input-text-placeholder="qcm-manage.detailsNewQcm-placeholder"
                oda-input-text-check="Oda.Regexs:noInjection"/>
        </div>
    </div>
    <div class="row">
        <div class="col-md-6">
            <oda-input-text
                oda-input-text-name="location"
                oda-input-text-type="text"
                oda-input-text-label="qcm-manage.location"
                oda-input-text-tips="qcm-manage.location-tips"
                oda-input-text-advice="qcm-manage.location-advice"
                oda-input-text-placeholder="qcm-manage.location-placeholder"
                oda-input-text-check="Oda.Regexs:noInjection"/>
        </div>
    </div>
    <hr>
    <div id="tableFile"></div>
</script>

<script id="select" type="text/template">
    <div class="form-group">
        <label for="{{id}}" oda-label="qcm-manage.{{id}}">qcm-manage.{{id}}</label>
        <select class="form-control" oda-input-select="{{id}}" required>
            <option value="" oda-label="oda-main.select-default"></option>
            {{datas}}
        </select>
    </div>
</script>

<script id="tpltHorse" type="text/template">
    <button onclick="$.Oda.App.Controller.ManageQcm.detailHorse(this);" type="button" class="btn btn-{{color}} btn-xs" id="divHorse-{{userId}}" title="{{userId}}" data-id="{{userId}}">{{lastName}}.{{firstName}}</button>
</script>

<script id="tplDetailHorse" type="text/template">
    <div class="row">
        <div class="col-md-6">
            <oda-label oda-label-value="qcm.company"/>: {{company}}
        </div>
        <div class="col-md-6">
            <oda-label oda-label-value="qcm-manage.createDate"/>: {{createDate}}
        </div>
    </div>
    <div class="row">
        <div class="col-md-12">
            <oda-label oda-label-value="qcm-manage.urlGetSessionUser"/>: {{urlGetSessionUser}}
        </div>
    </div>
    <div class="row">
        <div class="col-md-12">
            <div class="table-responsive">
                <table class="table table-hover table-striped" id="tabAddress">
                    <thead>
                    <tr>
                        <th style="width: 50px">#</th>
                        <th oda-label="qcm-manage.question">question</th>
                        <th style="width: 50px" oda-label="qcm-manage.nbError">nbError</th>
                        <th style="width: 150px" oda-label="qcm-manage.recordDate">recordDate</th>
                    </tr>
                    </thead>
                    <tbody>
                    {{contentTabHisto}}
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</script>

<script id="tpltStats" type="text/template">
    <ul class="nav nav-tabs">
        <li class="active"><a onclick="$.Oda.App.Controller.ManageQcm.displayStatsByQuestion({ id:{{id}}, that: this })">Général</a></li>
        <li><a onclick="$.Oda.App.Controller.ManageQcm.displayStatsByUserGeneral({ id:{{id}}, that: this })">Utilisateurs général</a></li>
        <li><a onclick="$.Oda.App.Controller.ManageQcm.displayStatsByUserDetails({ id:{{id}}, that: this })">Utilisateurs détails</a></li>
    </ul>
    <div id="graph"></div>
</script>